"use strict";!function(){var tempMap={main:0,min:0,max:0},city=document.getElementById("city"),temperature=document.getElementById("temperature"),min=document.getElementById("min"),max=document.getElementById("max"),description=document.getElementById("description"),icon=document.getElementById("icon");temperature.addEventListener("click",function(e){if(-1!==e.target.innerHTML.indexOf("C")){var tempF=(1.8*tempMap.main+32).toFixed(1),tempMin=(1.8*tempMap.min+32).toFixed(1),tempMax=(1.8*tempMap.max+32).toFixed(1);temperature.innerHTML=tempF+"&deg; F",min.innerHTML=tempMin+"&deg",max.innerHTML=tempMax+"&deg"}else temperature.innerHTML=tempMap.main+"&deg; C",min.innerHTML=tempMap.min+"&deg",max.innerHTML=tempMap.max+"&deg"}),navigator.geolocation?navigator.geolocation.getCurrentPosition(function(position){var lat=position.coords.latitude,lon=position.coords.longitude;!function getData(end){fetch(end,{cache:"no-store"}).then(function(response){return response.json()}).then(function(myJson){var data;myJson.weather[0].icon?(data=myJson,tempMap.main=data.main.temp.toFixed(1),tempMap.min=data.main.temp_min.toFixed(1),tempMap.max=data.main.temp_max.toFixed(1),city.innerHTML=data.name,temperature.innerHTML=tempMap.main+"&deg; C",min.innerHTML=tempMap.min+"&deg",max.innerHTML=tempMap.max+"&deg",description.innerHTML=data.weather[0].description,icon.src=data.weather[0].icon):getData(end)}).catch(function(){return getData(end)})}("https://fcc-weather-api.glitch.me/api/current?lat="+lat.toFixed(2)+"&lon="+lon.toFixed(2))},function(){city.innerHTML="Unable to retrieve your location"}):city.innerHTML="<p>Geolocation is not supported by your browser</p>"}();